
@{
    ViewData["Title"] = "Index";
}

@model ShoppingCart

<div class="container">
    <br />
    <h2>Current Shopping Cart</h2>

    @if (Model.PurchasedGames.Count > 0)
    {
    <div class="row">
        <div class="col-5">
            <ul class="list-group list-group-flush mb-3">

                @foreach (var Game in Model.PurchasedGames)
                {
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <img src="@Game.PurchasedGame.ImageURL" width="50" height="50" alt="@Game.PurchasedGame.Name Image" />
                    @Game.PurchasedGame.Name

                    <div>
                        <span class="badge badge-light badge-pill">@Game.CartTotal.ToString("C2")</span>
                        <a asp-controller="ShoppingCart" asp-action="Delete" asp-route-ProductId="@Game.PurchasedGame.Id"><span class="badge badge-danger badge-pill"><i class="fas fa-times"></i></span></a>
                    </div>
                </li>
                }
                <li class="list-group-item list-group-item-dark d-flex justify-content-between align-items-center">
                    Current cart total:
                    <span class="badge badge-success badge-pill">@Model.CartTotal.ToString("C2")</span>
                </li>
            </ul>

            <div class="row mb-3">
                <div class="col"><a asp-controller="BoardGames" asp-action="Index" class="btn btn-light btn-block">Keep buying</a></div>
                <div class="col"><a asp-controller="ShoppingCart" asp-action="CleanCart" class="btn btn-warning btn-block" role="button">Clean cart</a></div>
                
            </div>
            <div class="row">
                <div class="col"><a asp-controller="Orders" asp-action="Index" class="btn btn-primary btn-block" role="button">Procede to purchase</a></div>
            </div>
        </div>
        <div class="col-7">

        </div>
    </div>
    
    }
    else
    {
        <p>The shopping cart is currently empty! Go and buy stuff <a asp-controller="BoardGames" asp-action="Index" >here</a>!</p>
    }
</div>

<div style="height:710px;"></div>